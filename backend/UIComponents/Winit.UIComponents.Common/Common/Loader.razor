@using Winit.UIComponents.Common.Services;
@inject ILoadingService LoadingService
<style>
    /* Style for the overlay background */
    /*  #overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5); /* Adjust the last value for transparency
            z-index: 1000;
            display: none;
        } */

    /* Style for the spinner */
    /*   #loaderModal {
            z-index: 1001;
        } */



</style>
@if (LoadingService.IsLoading)
{
    @* <div class="d-flex justify-content-center">
        <div class="spinner-border @Color" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p>@LoadingText</p>
    </div> *@
    @*   <div id="overlay"></div>
    <div class="modal fade show" tabindex="-1" style="display: block;">
        <div class="modal-dialog modal-dialog-centered">
            <div style="width:100%;">
                <div class="modal-body text-center">
                    <div class="spinner-border" role="status" style="width: 8rem; height: 8rem;">
                        <span class="visually-hidden"></span>
                    </div>
                    <p>@LoadingText</p>
                </div>
            </div>
        </div>
    </div> *@

    @*     <div class="cls_loader_overlay"></div>
    <div class="cls_loader_content">
        <div class="cls_loader">
            <span class="loader"></span>
        </div>
    </div> *@

    <div class="cls_loader_overlay">
        <div class="cls_loader">
            <span class="loader"></span>
            <p>@LoadingText</p>
        </div>
    </div>



}

@code {
    [Parameter]
    public string Color { get; set; } = "text-danger";
    // Default to Bootstrap alert-info, you can change it

    [Parameter]
    public string LoadingText { get; set; } = "Loading";
    protected override void OnInitialized()
    {
        LoadingService.OnLoadingStateChanged += HandleLoadingStateChanged;
    }

    private void HandleLoadingStateChanged()
    {
        LoadingText = LoadingService.Message;
        StateHasChanged();
    }
}



















@* @inject ILoadingService LoadingService

@if (IsLoading)
{
    <div class="d-flex justify-content-center">
    <div class="spinner-border @Color" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
    </div>
}

@code {
    [Parameter]
    public bool IsLoading { get; set; }

    [Parameter]
    public string Color { get; set; } = "text-danger"; // Default to Bootstrap alert-info, you can change it


} *@
