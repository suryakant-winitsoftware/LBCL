@inherits WinIt.Pages.Base.BaseComponentBase
@foreach (Winit.Modules.SKU.Model.Interfaces.ISKUGroupTypeItemView grid in HierarchyGrids)
{
    
        <tr>
            <td style="width:20%">
                @if (grid.ChildGrids != null && grid.ChildGrids.Any())
                {
                    <img style="width:30px" src='@(grid.IsOpen ? "Images/hierarchy_minus.svg" : "Images/hierarchy_plus.svg")' @onclick='()=>ToggleCollapse(grid)' />
                }
            </td>
        <td style="width:20%">[@grid.Code] @grid.Name</td>
        <td style="width:20%">@grid.ItemLevel</td>
        <td style="width:20%">@(string.IsNullOrEmpty(grid.ParentName) ? "N/A" : grid.ParentName)</td>
        <td style="width:20%">
                <img @onclick='() => UpdatePopIconClicked(grid)' src="Images/edit.png" style="width:20px;" />
                <img @onclick='() => CreatePopIconClicked(grid)' src="Images/hierarchy_plus.svg" style="width:20px;" />
                <img @onclick='() => DeletePopIconClicked(grid)' src="Images/delete.png" style="width:20px;" />
            </td>
        </tr>
   

    @if (grid.IsCreatePopUpOpen)
    {
        <AddUpdateSKUGroupTypePopUp CancelbtnText=@Localizer["close"] OkBtnText=@Localizer["create"] OnOkClick="() => CreateSkuGroup(grid)" sKUGroupTypeItemView="grid" Context="Context" title="@title" IsAddPopUp=true OnCloseClick="() => grid.IsCreatePopUpOpen=false" />
    }
    @if (grid.IsUpdatePopUpOpen)
    {
        <AddUpdateSKUGroupTypePopUp CancelbtnText=@Localizer["cancel"] OkBtnText=@Localizer["update"] OnOkClick="UpdateSKUGroupTypeClick" sKUGroupTypeItemView="grid" Context="Context" title="@title" OnCloseClick="() => grid.IsUpdatePopUpOpen=false" />
    }
    @if (grid.IsDeletePopUpOpen)
    {
        <PopUp Title="@title" OnCloseClick="() => grid.IsDeletePopUpOpen=false" OkbtnText=@Localizer["ok"] CancelbtnText=@Localizer["cancel"] OnOkClick="() => DeleteClicked(grid)">
            <label>@Localizer["are_you_sure,_you_want_to_delete_this_sku_group_type?"] </label>
        </PopUp>
    }
    @if (grid.IsOpen)
    {
        <tr style="padding-left:10px;width:100%;">
            <td colspan="6">
                <table>
                
            <SKUGroupTypeHierarchy HierarchyGrids="grid.ChildGrids" OnBtnExpandClick="OnBtnExpandClick" OnCreateClick="OnCreateClick"  OnDeleteSKUGroupType="OnDeleteSKUGroupType" OnCreateClone="OnCreateClone" OnUpdateClick="OnUpdateClick"></SKUGroupTypeHierarchy>
                </table>
            </td>
        </tr>
    }
}



