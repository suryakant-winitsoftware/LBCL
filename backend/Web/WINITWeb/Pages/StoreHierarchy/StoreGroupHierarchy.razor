@inherits WinIt.Pages.Base.BaseComponentBase
<Virtualize Items="@HierarchyGrids" OverscanCount="50">
    <ItemContent Context="grid">
 
        <tr>
            <td   >
                @if (grid.HasChild)
                {
                    <img style="width:30px" src='@(grid.IsOpen ? "Images/hierarchy_minus.svg" : "Images/hierarchy_plus.svg")' @onclick='()=>ToggleCollapse(grid)' />
                }
            </td>
            <td  >[@grid.Code] @grid.Name</td>
            <td >@grid.ItemLevel</td>
            <td   >@(string.IsNullOrEmpty(grid.ParentName) ? "N/A" : grid.ParentName)</td>
                <div style="width:20%;"  >[@grid.Code] @grid.Name</div>
            <td   >
                <img @onclick='() => UpdatePopIconClicked(grid)' src="Images/edit.png" style="width:20px;" />
                <img @onclick='() => CreatePopIconClicked(grid)' src="Images/hierarchy_plus.svg" style="width:20px;" />
                <img @onclick='() => DeletePopIconClicked(grid)' src="Images/delete.png" style="width:20px;" />
            </td>
        </tr>


    @if (grid.IsCreatePopUpOpen)
    {
        <AddUpdateStoreGroupPopUp CancelbtnText=@Localizer["close"] OkBtnText=@Localizer["create"] OnOkClick="() => CreateSkuGroup(grid)" storeGroupItemView="grid" Context="Context" title="@title" IsAddPopUp=true OnCloseClick="() => grid.IsCreatePopUpOpen=false" OnStoreGroupTypebtnClicked="StoreGroupTypeDDClicked" />
    }
    @if (grid.IsUpdatePopUpOpen)
    {
        <AddUpdateStoreGroupPopUp CancelbtnText=@Localizer["cancel"] OkBtnText=@Localizer["update"] OnOkClick="UpdateStoreGroupClick" storeGroupItemView="grid" Context="Context" title="@title" OnCloseClick="() => grid.IsUpdatePopUpOpen=false" OnStoreGroupTypebtnClicked="StoreGroupTypeDDClicked" />
    }
    @if (grid.IsDeletePopUpOpen)
    {
        <PopUp Title="@title" OnCloseClick="() => grid.IsDeletePopUpOpen=false" OkbtnText=@Localizer["ok"] CancelbtnText=@Localizer["cancel"] OnOkClick="() => DeleteClicked(grid)">
            <label>@Localizer["are_you_sure,_you_want_to_delete_this_store_group?"] </label>
        </PopUp>
    }
    @if (grid.IsOpen)
    {
        <tr style="padding-left:10px;width:100%;">
                <td colspan="6">
                    <table>
            <StoreGroupHierarchy HierarchyGrids="grid.ChildGrids" OnBtnExpandClick="OnBtnExpandClick" OnCreateClick="OnCreateClick"  OnDeleteStoreGroup="OnDeleteStoreGroup" OnCreateClone="OnCreateClone" OnUpdateClick="OnUpdateClick" OnStoreGroupTypebtnClicked="OnStoreGroupTypebtnClicked"></StoreGroupHierarchy>
        </table>
        </td>
        </tr>
    }
    </ItemContent>
    <Placeholder> Loading... </Placeholder>
</Virtualize>



